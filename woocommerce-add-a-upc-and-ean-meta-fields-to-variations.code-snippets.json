{"generator":"Code Snippets v2.14.0","date_created":"2020-03-22 18:15","snippets":[{"name":"WooCommerce: Add a UPC and EAN meta fields to variations","tags":["woocommerce","product","variations","fields"],"scope":"global","code":"add_action( 'woocommerce_product_after_variable_attributes', 'jb_woo_variation_add_upc_and_ean_fields', 10, 3);\nfunction jb_woo_variation_add_upc_and_ean_fields($loop, $variation_data, $variation) {\n\twoocommerce_wp_text_input( array(\n      'id' => '_upc[' . $variation->ID . ']',\n      'label' => 'UPC',\n      'description' => '',\n      'desc_tip' => 'false',\n      'value' => get_post_meta( $variation->ID, '_upc', true ),\n      'placeholder' => '',\n      'wrapper_class' => 'form-row form-row-first',\n      'type' => 'text'\n    ));\n\n    woocommerce_wp_text_input( array(\n      'id' => '_ean[' . $variation->ID . ']',\n      'label' => 'EAN',\n      'description' => '',\n      'desc_tip' => 'false',\n      'value' => get_post_meta( $variation->ID, '_ean', true ),\n      'placeholder' => '',\n      'wrapper_class' => 'form-row form-row-last',\n      'type' => 'text'\n    ));\n}\n\n\/\/save the new meta data to the variations\nadd_action( 'woocommerce_save_product_variation', 'jb_woo_add_unit_size_field_save' );\nfunction jb_woo_add_unit_size_field_save($post_id){\n\t$upc = $_POST['_upc'][ $post_id ];\n\tif ( ! empty( $_POST['_upc'] ) ) {\n\t\tupdate_post_meta( $post_id, '_upc', esc_attr( $upc ) );\n\t}\n\n\t$ean = $_POST['_ean'][ $post_id ];\n\tif ( ! empty( $_POST['_ean'] ) ) {\n\t\tupdate_post_meta( $post_id, '_ean', esc_attr( $ean ) );\n\t}\n}","priority":"10"}]}