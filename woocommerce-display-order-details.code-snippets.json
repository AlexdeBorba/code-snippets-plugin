{"generator":"Code Snippets v2.14.0","date_created":"2020-03-24 15:36","snippets":[{"name":"WooCommerce: Display Order Details","tags":["woocommerce","orders","details"],"scope":"admin","code":"if ( ! class_exists( 'display_order_details' ) ) {\n    \n    class display_order_details {\n        \n        public function __construct() {\n            \n            add_filter( 'manage_edit-shop_order_columns', array( &$this, 'od_column_header' ), 10, 1 );\n            add_action( 'manage_shop_order_posts_custom_column', array( &$this, 'od_column_value' ), 10, 1 );\n        }\n        \n        function od_column_header( $columns ) {\n            \n            \/\/ get all columns up to Order\n            $new_columns = array();\n            foreach ( $columns as $name => $value ) {\n                if ( $name == 'billing_address' ) {\n                    prev( $columns );\n                    break;\n                }\n                $new_columns[ $name ] = $value;\n            }\n            \/\/ inject our columns\n            $new_columns[ 'dot_items' ] = __( 'Items', 'display-items' );\n            \/\/ add the remaining columns\n            foreach ( $columns as $name => $value ) {\n                $new_columns[ $name ] = $value;\n            }\n             \n            \n            return $new_columns;\n        }\n        \n        function od_column_value( $column ) {\n            \n            if ( $column == 'dot_items' ) {\n                global $post;\n                \n                $item_link = '';\n                $order_id = $post->ID;\n                $order = wc_get_order( $order_id );\n                $items = $order->get_items();\n                \n                foreach( $items as $item_value ) {\n                    \n                    $order_data = $item_value->get_data();\n                    \n                    $product_id = $order_data[ 'product_id' ];\n                    $product_name = $order_data[ 'name' ];\n                    $quantity = $order_data[ 'quantity' ];\n                    \n                    $args[ 'post' ] = $product_id;\n                    $args[ 'action' ] = 'edit';\n                    \n                    $item_link .= \"<a href='\" . esc_url_raw( add_query_arg( $args, get_admin_url( null, 'post.php' ) ) ) . \"'>$product_name<\/a> x $quantity<br>\"; \n                }\n                \n                echo $item_link;\n            }\n\n        }\n    } \/\/ end of class\n} \n$display_order_details = new display_order_details();\n","priority":"10"}]}