{"generator":"Code Snippets v2.14.0","date_created":"2020-03-22 18:39","snippets":[{"name":"WooCommerce: Adds stock status to the dropdown on product pages","tags":["woocommerce","stock","status","products"],"scope":"global","code":"add_action( 'woocommerce_after_add_to_cart_form', 'dropdown_waitlist_label' );\nfunction dropdown_waitlist_label() {\n\techo \"\n\t\t<script>\n\t\tjQuery(document).ready(function($) {\n\t\t\tvar variation_data = $('form.variations_form').attr('data-product_variations');\n\t\t\tvar variation_data = JSON.parse(variation_data);\n\t\t\t$('#pa_size > option').each(function() {\n\t\t\t\tfor (var i = 0; i < variation_data.length; i++) {\n\t\t\t\t\tvar variation = variation_data[i];\n\t\t\t\t\tif ($(this).val() == variation.attributes.attribute_pa_size) {\n\t\t\t\t\t\tif ( false == variation.is_in_stock ) {\n\t\t\t\t\t\t\t$(this).text( variation.attributes.attribute_pa_size + '\\u00A0\\u00A0\\u00A0\u2013\\u00A0\\u00A0\\u00A0\\u00A0Out of Stock');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( variation.min_qty == 1 && variation.max_qty == 1 ) {\n\t\t\t\t\t\t\t$(this).text( variation.attributes.attribute_pa_size + '\\u00A0\\u00A0\\u00A0\u2013\\u00A0\\u00A0\\u00A0\\u00A01 left in stock' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t<\/script>\";\n}","priority":"10"}]}