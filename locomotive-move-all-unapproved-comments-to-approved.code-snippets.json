{"generator":"Code Snippets v2.14.0","date_created":"2020-03-26 12:24","snippets":[{"name":"Locomotive: Move all unapproved comments to approved","tags":["wordpress","locomotive","comments"],"scope":"global","code":"function process_unapproved_comments() {\n\tregister_batch_process( array(\n\t\t'name' => 'Move Approved Comments',\n\t\t'type' => 'comment',\n\t\t'args' => array(\n\t\t\t'status' => 'hold',\n\t\t),\n\t\t'callback' => 'move_unapproved_comment',\n\t) );\n}\nadd_action( 'locomotive_init', 'process_unapproved_comments' );\n\nfunction move_unapproved_comment( $comment ) {\n\n\twp_set_comment_status( $comment->comment_ID, 'approve' );\n\n}","priority":"10"}]}