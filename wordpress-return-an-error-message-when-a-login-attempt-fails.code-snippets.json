{"generator":"Code Snippets v2.14.0","date_created":"2020-03-30 21:22","snippets":[{"name":"WordPress: Return an error message when a login attempt fails","tags":["wordpress","error","message"],"scope":"front-end","code":"add_filter( 'authenticate', function( $user ) {\n\tif ( is_wp_error( $user ) && 'incorrect_password' === $user->get_error_code() ) {\n\t\t$user = new WP_Error( 'authentication_failed', __( '<strong>ERROR<\/strong>: Invalid username, email address or incorrect password.' ) );\n\t}\n\treturn $user;\n}, 999, 1 );\n\/**\n * Return a more abstract error message for when invalid passwords, usernames, or emails are entered.\n *\n * @param null|WP_User|WP_Error $user WP_User if the user is authenticated, WP_Error or null otherwise.\n *\/\nadd_filter( 'authenticate', function( $user ) {\n\tif ( is_wp_error( $user ) && in_array( $user->get_error_code(), array( 'incorrect_password', 'invalid_email', 'invalid_username' ), true ) ) {\n\t\t$user = new WP_Error( 'authentication_failed', __( '<strong>ERROR<\/strong>: Invalid username, email address or incorrect password.' ) );\n\t}\n\treturn $user;\n}, 999, 1 );","priority":"10"}]}