{"generator":"Code Snippets v2.14.0","date_created":"2020-03-22 18:23","snippets":[{"name":"WooCommerce: Add Global Trade Identification Numbers (GTINs) to products","tags":["woocommerce","product","field"],"scope":"admin","code":"\/**\n * Render the Global Trade Identification Number (GTIN) meta field.\n *\/\nfunction woocommerce_render_gtin_field() {\n   $input   = array(\n      'id'          => '_gtin',\n      'label'       => sprintf(\n         '<abbr title=\"%1$s\">%2$s<\/abbr>',\n         _x( 'Global Trade Identification Number', 'field label', 'my-theme' ),\n         _x( 'GTIN', 'abbreviated field label', 'my-theme' )\n      ),\n      'value'       => get_post_meta( get_the_ID(), '_gtin', true ),\n      'desc_tip'    => true,\n      'description' => __( 'Enter the Global Trade Identification Number (UPC, EAN, ISBN, etc.)', 'my-theme' ),\n   );\n?>\n\n   <div id=\"gtin_attr\" class=\"options_group\">\n      <?php woocommerce_wp_text_input( $input ); ?>\n   <\/div>\n\n<?php\n}\n\nadd_action( 'woocommerce_product_options_inventory_product_data', 'woocommerce_render_gtin_field' );\n\n\/**\n * Save the product's GTIN number, if provided.\n *\n * @param int $product_id The ID of the product being saved.\n *\/\nfunction woocommerce_save_gtin_field( $product_id ) {\n   if (\n      ! isset( $_POST['_gtin'], $_POST['woocommerce_meta_nonce'] )\n      || ( defined( 'DOING_AJAX' ) && DOING_AJAX )\n      || ! current_user_can( 'edit_products' )\n      || ! wp_verify_nonce( $_POST['woocommerce_meta_nonce'], 'woocommerce_save_data' )\n   ) {\n      return;\n   }\n\n   $gtin = sanitize_text_field( $_POST['_gtin'] );\n\n   update_post_meta( $product_id, '_gtin', $gtin );\n}\n\nadd_action( 'woocommerce_process_product_meta','woocommerce_save_gtin_field' );","priority":"10"}]}