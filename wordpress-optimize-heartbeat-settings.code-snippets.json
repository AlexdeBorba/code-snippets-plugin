{"generator":"Code Snippets v2.14.0","date_created":"2020-03-26 13:21","snippets":[{"name":"WordPress: Optimize heartbeat settings","tags":["wordpress","admin","heartbeat","performance"],"scope":"global","code":"function optimize_heartbeat_settings( $settings ) {\n    $settings['autostart'] = false;\n    $settings['interval'] = 60;\n    return $settings;\n}\nadd_filter( 'heartbeat_settings', 'optimize_heartbeat_settings' );\n\nfunction disable_heartbeat_unless_post_edit_screen() {\n    global $pagenow;\n    if ( $pagenow != 'post.php' && $pagenow != 'post-new.php' )\n        wp_deregister_script('heartbeat');\n}\nadd_action( 'init', 'disable_heartbeat_unless_post_edit_screen', 1 );","priority":"10"}]}