{"generator":"Code Snippets v2.14.0","date_created":"2020-03-24 21:53","snippets":[{"name":"WooCommerce: Hides Out of Stock Products in Related Products","tags":["woocommerce","products","related"],"scope":"front-end","code":"function woocommerce_enable_hide_out_of_stock_items( $template_name, $template_path, $located, $args ) {\n    if( $template_name !== \"single-product\/related.php\" ) {\n        return;\n    }\n \n    add_filter( 'pre_option_woocommerce_hide_out_of_stock_items', function( $option ) { return \"yes\"; }, 10, 1 );\n}\n \n\/**\n * Temporarily disable hide out of stock items.\n *\n * @param string $template_name\n * @param string $template_path\n * @param bool $located\n * @param array $args\n *\/\nfunction woocommerce_disable_hide_out_of_stock_items( $template_name, $template_path, $located, $args ) {\n    if( $template_name !== \"single-product\/related.php\" ) {\n        return;\n    }\n \n    add_filter( 'pre_option_woocommerce_hide_out_of_stock_items', function( $option ) { return \"no\"; }, 10, 1 );\n}\n \nadd_action( 'woocommerce_before_template_part', 'woocommerce_enable_hide_out_of_stock_items', 10, 4 );\nadd_action( 'woocommerce_after_template_part', 'woocommerce_disable_hide_out_of_stock_items', 10, 4 );","priority":"10"}]}