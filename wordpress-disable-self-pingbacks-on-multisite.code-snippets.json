{"generator":"Code Snippets v2.14.0","date_created":"2020-03-23 14:10","snippets":[{"name":"WordPress: Disable self Pingbacks on Multisite","tags":["wordpress","multisite","pingbacks"],"scope":"admin","code":"function multisite_no_self_ping( &$links ) {\n    $sites     = get_sites();\n    $site_urls = array();\n    foreach ( $sites as $site ) {\n        $site_urls[] = get_home_url( $site->blog_id );\n    }\n    foreach ( $links as $key => $link ) {\n        foreach ( $site_urls as $site_url ) {\n            if ( 0 === strpos( $link, $site_url ) ) {\n                unset( $links[ $key ] );\n            }\n        }\n    }\n}\nadd_action( 'pre_ping', 'multisite_no_self_ping' );\n","priority":"10"}]}